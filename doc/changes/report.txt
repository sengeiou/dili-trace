 select * from (
 select 
        register_bill.id as bill_id
        ,register_bill.code as bill_code
        ,register_bill.name as user_name
        ,register_bill.plate 
        ,register_bill.brand_name
        ,register_bill.preserve_type 
        ,register_bill.origin_name 
        ,register_bill.verify_status  
        ,register_bill.product_name
        ,register_bill.weight
        ,register_bill.weight_unit 
        ,register_bill.created AS bill_created
        ,u.id as user_id 
        ,u.phone
        ,u.tally_area_nos
        ,u.legal_person
        ,checkinout_record.created AS 'checkin_created'
        ,checkinout_record.status AS checkin_status
        from register_bill left join trade_detail on register_bill.id=trade_detail.bill_id
        left join checkinout_record on checkinout_record.id=trade_detail.checkin_record_id
        left join `user` u on register_bill.user_id=u.id
        where trade_detail.parent_id is null
 ) bill left join r_user_tally_area  on  bill.user_id=r_user_tally_area.user_id 
 left join tally_area_no on tally_area_no.id =r_user_tally_area.tally_area_no_id 
